{% extends "layouts/main.html" %}

{% block pageTitle %}
Service Configuration - {{ serviceName }} - GOV.UK
{% endblock %}

{% block beforeContent %}
{{ govukBackLink({
text: "Back to dashboard",
href: "/dashboard"
}) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <h1 class="govuk-heading-xl">Service configuration</h1>

        <h2 class="govuk-heading-m">Service details</h2>
        {{ govukTaskList({
        idPrefix: "service-details",
        items: [
        {
        title: {
        text: "Service name"
        },
        href: "/create-service/enter-client-name",
        status: {
        text: "Completed" if data['clientName'] else "Not started",
        classes: "govuk-tag--green" if data['clientName'] else "govuk-tag--grey"
        }
        }
        ]
        }) }}

        <h2 class="govuk-heading-m">Authentication settings</h2>
        {{ govukTaskList({
        idPrefix: "auth-settings",
        items: [
        {
        title: {
        text: "Public key and authentication method"
        },
        href: "/create-service/select-key-type",
        status: {
        text: "Completed" if data['publicKeyType'] else "Not started",
        classes: "govuk-tag--green" if data['publicKeyType'] else "govuk-tag--grey"
        }
        },
        {
        title: {
        text: "Redirect URLs"
        },
        href: "/create-service/redirect-urls",
        status: {
        text: "Completed" if data['redirectUrls'] else "Not started",
        classes: "govuk-tag--green" if data['redirectUrls'] else "govuk-tag--grey"
        }
        },
        {
        title: {
        text: "Scopes"
        },
        href: "/create-service/select-scopes",
        status: {
        text: "Completed" if data['scopes'] else "Not started",
        classes: "govuk-tag--green" if data['scopes'] else "govuk-tag--grey"
        }
        }
        ]
        }) }}

        <h2 class="govuk-heading-m">Finish and Publish</h2>
        {{ govukTaskList({
        idPrefix: "finish",
        items: [
        {
        title: {
        text: "Review and publish to Integration"
        },
        href: "/create-service/confirm",
        status: {
        text: "Cannot start yet",
        classes: "govuk-task-list__status--cannot-start-yet"
        } if not (data['clientName'] and data['publicKeyType'] and data['redirectUrls']) else {
        text: "Not started",
        classes: "govuk-tag--grey"
        }
        }
        ]
        }) }}

    </div>
</div>
{% endblock %}