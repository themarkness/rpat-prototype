{% extends "layouts/main.html" %}

{% block pageTitle %}
Audit Log - {{ serviceName }} - GOV.UK
{% endblock %}

{% block beforeContent %}
{{ govukBackLink({
text: "Back to dashboard",
href: "/dashboard"
}) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <h1 class="govuk-heading-xl">Audit log</h1>

        <p class="govuk-body">Recent activity on your service configuration.</p>

        <div class="govuk-form-group">
            <label class="govuk-label" for="sort">
                Sort by
            </label>
            <select class="govuk-select" id="sort" name="sort">
                <option value="recent">Most recent</option>
                <option value="oldest">Oldest</option>
            </select>
        </div>

        <ol class="govuk-list govuk-list--number">
            {% for event in data['auditLog'] | reverse %}
            <li>
                <h3 class="govuk-heading-s govuk-!-margin-bottom-1">{{ event.action }}</h3>
                <p class="govuk-body-s govuk-!-margin-bottom-1">by {{ event.actor }}</p>
                <p class="govuk-body-s govuk-hint">{{ event.date }}</p>
                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
            </li>
            {% else %}
            <li>No audit events found.</li>
            {% endfor %}
        </ol>

    </div>
</div>
{% endblock %}